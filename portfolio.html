<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Full Portfolio — Ryan Muratore Photography</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,300;0,400;1,300;1,400&family=Tenor+Sans&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --warm-white: #faf6f0;
      --linen:      #f0e9de;
      --sand:       #ddd0bc;
      --clay:       #c4a882;
      --tan:        #a8896a;
      --bark:       #7a5c3a;
      --earth:      #4e3820;
      --ink:        #2a1f12;
    }

    html { scroll-behavior: smooth; }
    body { background: var(--warm-white); color: var(--ink); font-family: 'Tenor Sans', sans-serif; font-weight: 400; overflow-x: hidden; }

    /* ── NAV ── */
    nav {
      position: fixed; top: 0; left: 0; right: 0; z-index: 200;
      display: flex; align-items: center; justify-content: space-between;
      padding: 1.4rem 3rem;
      background: rgba(250,246,240,0.96);
      backdrop-filter: blur(8px);
      box-shadow: 0 1px 0 var(--sand);
    }
    .nav-logo { font-family: 'Playfair Display', serif; font-size: 1.1rem; font-weight: 300; letter-spacing: 0.12em; color: var(--earth); text-decoration: none; }
    .nav-links { display: flex; gap: 2.8rem; list-style: none; }
    .nav-links a { font-size: 0.65rem; letter-spacing: 0.28em; text-transform: uppercase; color: var(--tan); text-decoration: none; transition: color 0.3s; position: relative; }
    .nav-links a.active { color: var(--earth); }
    .nav-links a::after { content: ''; position: absolute; bottom: -4px; left: 0; right: 0; height: 1px; background: var(--clay); transform: scaleX(0); transform-origin: left; transition: transform 0.35s ease; }
    .nav-links a:hover::after, .nav-links a.active::after { transform: scaleX(1); }
    .nav-links a:hover { color: var(--bark); }

    /* ── PAGE HEADER ── */
    .page-header {
      padding: 10rem 3rem 4rem;
      background: var(--warm-white);
    }
    .page-header .section-label { font-size: 0.6rem; letter-spacing: 0.4em; text-transform: uppercase; color: var(--clay); margin-bottom: 0.8rem; }
    .page-header .section-title { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 3.5vw, 3.2rem); font-weight: 300; line-height: 1.15; color: var(--earth); }
    .page-header .section-title em { font-style: italic; color: var(--tan); }
    .section-rule { width: 40px; height: 1px; background: var(--clay); margin: 1.8rem 0; }

    /* ── MAP FILTER ── */
    .map-filter-wrap { padding: 0 3rem 2rem; }
    .map-label { font-size: 0.58rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--clay); margin-bottom: 1rem; display: block; }
    #world-map-container { width: 65%;
      margin: 0 auto; background: var(--linen); border: 1px solid var(--sand); overflow: hidden; position: relative; }
    #world-map-container svg { width: 100%; height: auto; display: block; }
    .country-path { fill: var(--sand); stroke: var(--warm-white); stroke-width: 0.4; transition: fill 0.25s; cursor: default; }
    .country-path.visited { fill: var(--clay); cursor: pointer; }
    .country-path.visited:hover { fill: var(--bark); }
    .country-path.map-active { fill: var(--earth) !important; }
    .map-tooltip { position: fixed; background: var(--earth); color: var(--warm-white); font-family: 'Tenor Sans', sans-serif; font-size: 0.6rem; letter-spacing: 0.18em; text-transform: uppercase; padding: 0.4rem 0.9rem; pointer-events: none; opacity: 0; transition: opacity 0.15s; white-space: nowrap; z-index: 999; }
    .map-pills { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1.2rem; }
    .map-pill { padding: 0.35rem 1rem; font-family: 'Tenor Sans', sans-serif; font-size: 0.58rem; letter-spacing: 0.18em; text-transform: uppercase; border: 1px solid var(--sand); background: none; color: var(--tan); cursor: pointer; transition: all 0.25s; }
    .map-pill.active, .map-pill:hover { background: var(--earth); border-color: var(--earth); color: var(--warm-white); }
    .wildlife-pill { border-color: var(--bark); color: var(--bark); }
    .wildlife-pill.active, .wildlife-pill:hover { background: var(--bark); border-color: var(--bark); color: var(--warm-white); }
    .map-loading { padding: 3rem; text-align: center; font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--tan); }

    /* ── FULL PORTFOLIO GRID ── */
            /* ── GALLERY GRID ── */
    .gallery-grid {
      display: flex;
      gap: 8px;
      align-items: flex-start;
    }
    .gallery-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .gallery-item {
      position: relative;
      overflow: hidden;
      cursor: pointer;
      width: 100%;
      transition: opacity 0.4s;
    }
    .gallery-item img {
      width: 100%;
      height: auto;
      display: block;
      transition: transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    .gallery-item:hover img { transform: scale(1.04); }

    .gallery-hover { position: absolute; inset: 0; background: linear-gradient(to top, rgba(26,18,8,0.82) 0%, rgba(26,18,8,0.1) 50%, transparent 100%); opacity: 0; transition: opacity 0.4s; display: flex; flex-direction: column; justify-content: flex-end; padding: 1.4rem; }
    .gallery-item:hover .gallery-hover { opacity: 1; }
    .gallery-hover-title { display: none; }
    .gallery-hover-location { font-size: 0.62rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--warm-white); transform: translateY(6px); transition: transform 0.4s; }
    .gallery-item:hover .gallery-hover-location { transform: translateY(0); }

    /* ── FOOTER ── */
    footer { background: var(--earth); color: rgba(250,246,240,0.4); padding: 2.5rem 3rem; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem; }
    .footer-logo { font-family: 'Playfair Display', serif; font-size: 1rem; font-weight: 300; font-style: italic; color: var(--clay); text-decoration: none; }
    footer p { font-size: 0.65rem; letter-spacing: 0.1em; }

    /* ── ANIMATIONS ── */
    .reveal { opacity: 0; transform: translateY(24px); transition: opacity 0.9s ease, transform 0.9s ease; }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* ── MOBILE ── */
    /* ── CART ── */
    #cart-btn {
      display: flex; align-items: center; gap: 0.6rem;
      background: none; border: none; cursor: pointer;
      font-family: 'Tenor Sans', sans-serif;
      font-size: 0.62rem; letter-spacing: 0.18em;
      text-transform: uppercase; color: var(--tan);
      position: relative; transition: color 0.3s;
      padding: 0.3rem 0;
    }
    #cart-btn:hover { color: var(--bark); }
    #cart-btn svg { width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 1.5; }
    #cart-count {
      display: none; align-items: center; justify-content: center;
      position: absolute; top: -6px; right: -8px;
      background: var(--bark); color: var(--warm-white);
      font-size: 0.5rem; width: 16px; height: 16px;
      border-radius: 50%; font-family: 'Tenor Sans', sans-serif;
    }
    #cart-total { color: var(--bark); font-size: 0.62rem; letter-spacing: 0.1em; }
    .cart-flash { animation: cartFlash 0.6s ease; }
    @keyframes cartFlash { 0%,100% { color: var(--tan); } 50% { color: var(--bark); } }
    .cart-dropdown-wrap { position: relative; }
    #cart-dropdown {
      display: none; position: absolute; top: calc(100% + 1.2rem);
      right: 0; width: 320px;
      background: var(--warm-white); border: 1px solid var(--sand);
      box-shadow: 0 12px 40px rgba(78,56,32,0.12);
      z-index: 300; padding: 1.2rem;
    }
    #cart-dropdown.open { display: block; }
    .cart-empty { font-size: 0.72rem; color: var(--tan); letter-spacing: 0.1em; text-align: center; padding: 1rem 0; }
    .cart-items { display: flex; flex-direction: column; gap: 0.8rem; margin-bottom: 1rem; max-height: 300px; overflow-y: auto; }
    .cart-item { display: flex; justify-content: space-between; align-items: flex-start; gap: 1rem; padding-bottom: 0.8rem; border-bottom: 1px solid var(--linen); }
    .cart-item-name { font-size: 0.78rem; color: var(--earth); font-family: 'Playfair Display', serif; margin-bottom: 0.2rem; }
    .cart-item-opts { font-size: 0.62rem; color: var(--clay); letter-spacing: 0.08em; }
    .cart-item-right { display: flex; align-items: center; gap: 0.6rem; flex-shrink: 0; }
    .cart-item-price { font-size: 0.82rem; color: var(--bark); font-family: 'Playfair Display', serif; white-space: nowrap; }
    .cart-remove { background: none; border: none; cursor: pointer; color: var(--sand); font-size: 0.65rem; padding: 0.2rem; transition: color 0.2s; }
    .cart-remove:hover { color: var(--bark); }
    .cart-footer { padding-top: 1rem; border-top: 1px solid var(--sand); }
    .cart-subtotal { display: flex; justify-content: space-between; font-size: 0.72rem; color: var(--earth); letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 1rem; }
    .cart-subtotal span:last-child { font-family: 'Playfair Display', serif; font-size: 1rem; color: var(--bark); }
    .cart-checkout-btn { width: 100%; padding: 0.9rem; background: var(--earth); color: var(--warm-white); border: none; font-family: 'Tenor Sans', sans-serif; font-size: 0.6rem; letter-spacing: 0.25em; text-transform: uppercase; cursor: not-allowed; opacity: 0.6; }

    .mobile-top-right { display: none; }
    @media (max-width: 768px) {
      .mobile-top-right { display: flex; align-items: center; gap: 1rem; }
      .hamburger { display: flex; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: 0.3rem; z-index: 1000; }
      .hamburger span { display: block; width: 22px; height: 1.5px; background: var(--earth); transition: all 0.3s; }
      .hamburger.open span:nth-child(1) { transform: translateY(6.5px) rotate(45deg); }
      .hamburger.open span:nth-child(2) { opacity: 0; }
      .hamburger.open span:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); }
      nav { padding: 1rem 1.4rem; justify-content: space-between; position: relative; z-index: 998; }
      .nav-logo { font-size: 1rem !important; white-space: nowrap; }
      .nav-links {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 100%; left: 0; right: 0;
        background: rgba(250,246,240,0.98);
        backdrop-filter: blur(10px);
        z-index: 999;
        box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        border-top: 1px solid var(--sand);
      }
      .nav-links.open { display: flex; }
      .nav-links li { display: block; width: 100%; }
      .nav-links li.cart-dropdown-wrap { display: none !important; }
      .nav-links a {
        font-size: 0.72rem !important;
        letter-spacing: 0.18em;
        color: var(--earth) !important;
        display: block;
        padding: 0.9rem 1.4rem;
        border-bottom: 1px solid var(--linen);
        text-transform: uppercase;
        white-space: nowrap;
      }
      .nav-links li:last-child a { border-bottom: none; }
    }

    .hamburger { display: none; }
    .mobile-top-right { display: none; }
    @media (max-width: 768px) {
      nav { padding: 1rem 1.4rem; background: rgba(250,246,240,0.97) !important; backdrop-filter: blur(8px); box-shadow: 0 1px 0 var(--sand); }
      .nav-logo { font-size: 1rem !important; white-space: nowrap; color: var(--earth) !important; }
      .mobile-top-right { display: flex !important; align-items: center; gap: 1rem; }
      .hamburger { display: flex !important; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; padding: 0.4rem; z-index: 1001; }
      .hamburger span { display: block; width: 22px; height: 1.5px; background: var(--earth); transition: all 0.3s; }
      .hamburger.open span:nth-child(1) { transform: translateY(6.5px) rotate(45deg); }
      .hamburger.open span:nth-child(2) { opacity: 0; }
      .hamburger.open span:nth-child(3) { transform: translateY(-6.5px) rotate(-45deg); }
      .nav-links { display: none; flex-direction: column; position: absolute; top: 100%; left: 0; right: 0; background: rgba(250,246,240,0.98); backdrop-filter: blur(8px); z-index: 997; padding: 1rem 0 1.5rem; box-shadow: 0 8px 24px rgba(0,0,0,0.08); border-top: 1px solid var(--sand); }
      .nav-links.open { display: flex; }
      .nav-links li { display: block; text-align: left; }
      .nav-links li.cart-dropdown-wrap { display: none !important; }
      .nav-links a { font-size: 0.85rem !important; letter-spacing: 0.15em; color: var(--earth) !important; white-space: nowrap; display: block; padding: 0.75rem 1.4rem; border-bottom: 1px solid var(--linen); }
    }

    #cart-btn-mobile {
      display: none;
      align-items: center;
      gap: 0.5rem;
      background: none;
      border: none;
      cursor: pointer;
      font-family: 'Tenor Sans', sans-serif;
      font-size: 0.62rem;
      letter-spacing: 0.18em;
      color: var(--tan);
      position: relative;
    }
    #cart-btn-mobile svg { stroke: currentColor; }
    #cart-total-mobile { color: var(--bark); font-size: 0.62rem; }
    @media (max-width: 768px) {
      #cart-btn-mobile { display: flex !important; }
    }
  </style>
  <script src="cart.js"></script>
</head>
<body>

  <!-- NAV -->
  <nav id="nav">
    <a href="index.html" class="nav-logo">Ryan Muratore</a>
    <div class="mobile-top-right">
      <button id="cart-btn-mobile" onclick="Cart.toggleDropdown()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
        <span id="cart-total-mobile"></span>
      </button>
      <button class="hamburger" id="hamburger" onclick="toggleMenu()">
        <span></span><span></span><span></span>
      </button>
    </div>
    <ul class="nav-links" id="nav-links">
      <li><a href="index.html#portfolio">Portfolio</a></li>
      <li><a href="portfolio.html">Full Portfolio</a></li>
      <li><a href="prints.html">Prints</a></li>
      <li><a href="store/wallpapers.html">Wallpapers</a></li>
      <li><a href="journals.html">Field Journals</a></li>
      <li><a href="index.html#about">About</a></li>
      <li><a href="index.html#contact">Contact</a></li>
      <li class="cart-dropdown-wrap">
        <button id="cart-btn" onclick="Cart.toggleDropdown()">
          <svg viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
          <span id="cart-total"></span>
          <span id="cart-count"></span>
        </button>
        <div id="cart-dropdown"></div>
      </li>
    </ul>
  </nav>

  <!-- PAGE HEADER -->
  <div class="page-header reveal">
    <p class="section-label">Complete Work</p>
    <h1 class="section-title">The full <em>collection</em></h1>
    <div class="section-rule"></div>
  </div>

  <!-- MAP FILTER -->
  <div class="map-filter-wrap reveal">
    <span class="map-label">Filter by destination or category</span>
    <div id="map-tooltip" class="map-tooltip"></div>
    <div id="world-map-container">
      <div class="map-loading" id="map-loading">Loading map...</div>
    </div>
    <div class="map-pills">
      <button class="map-pill active" data-filter="all">All</button>
      <button class="map-pill wildlife-pill" data-filter="wildlife">Wildlife</button>
      <button class="map-pill" data-filter="Costa Rica">Costa Rica</button>
      <button class="map-pill" data-filter="Denmark">Denmark</button>
      <button class="map-pill" data-filter="Iceland">Iceland</button>
      <button class="map-pill" data-filter="Ireland">Ireland</button>
      <button class="map-pill" data-filter="Norway">Norway</button>
      <button class="map-pill" data-filter="Portugal">Portugal</button>
      <button class="map-pill" data-filter="Sweden">Sweden</button>
      <button class="map-pill" data-filter="United States">United States</button>
      
      
      
    </div>
  </div>

  <!-- FULL GALLERY -->
  <div class="portfolio-wrap">
    <div class="gallery-grid" id="gallery-grid">

      <div class="gallery-item" data-type="landscape" data-country="Iceland" data-index="0">
        <img src="iceland-1.jpg" alt="At The Edge of The North">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Iceland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="1">
        <img src="costarica-1.jpg" alt="Descent">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="2">
        <img src="wildlife-1.jpg" alt="Stillness in Motion">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Norway" data-index="3">
        <img src="norway-3.JPG" alt="norway-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Norway</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="4">
        <img src="wildlife-2.jpg" alt="The Still Observer">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Iceland" data-index="5">
        <img src="iceland-2.jpg" alt="iceland-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Iceland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Sweden" data-index="6">
        <img src="sweden-1.JPG" alt="sweden-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Sweden</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="7">
        <img src="wildlife-3.jpg" alt="Built to Be Seen">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="8">
        <img src="costarica-2.jpg" alt="Emerald Passage">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Portugal" data-index="9">
        <img src="portugal-1.JPG" alt="portugal-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Portugal</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="10">
        <img src="wildlife-4.jpg" alt="Hunger">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Denmark" data-index="11">
        <img src="denmark-1.JPG" alt="denmark-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Denmark</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="12">
        <img src="costarica-3.jpg" alt="Bloom, Anyway">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="13">
        <img src="wildlife-5.jpg" alt="wildlife-5">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Iceland" data-index="14">
        <img src="iceland-3.JPG" alt="iceland-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Iceland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Ireland" data-index="15">
        <img src="ireland-1.JPG" alt="ireland-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Ireland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="16">
        <img src="wildlife-6.jpg" alt="wildlife-6">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Norway" data-index="17">
        <img src="norway-1.jpg" alt="norway-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Norway</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="18">
        <img src="unitedstates-1.JPG" alt="unitedstates-1">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="19">
        <img src="wildlife-7.jpg" alt="wildlife-7">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Sweden" data-index="20">
        <img src="sweden-2.JPG" alt="sweden-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Sweden</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="21">
        <img src="costarica-4.jpg" alt="costarica-4">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="22">
        <img src="wildlife-8.jpg" alt="wildlife-8">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Portugal" data-index="23">
        <img src="portugal-2.JPG" alt="portugal-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Portugal</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Denmark" data-index="24">
        <img src="denmark-2.JPG" alt="denmark-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Denmark</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="25">
        <img src="wildlife-9.JPG" alt="wildlife-9">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Ireland" data-index="26">
        <img src="ireland-2.JPG" alt="ireland-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Ireland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="27">
        <img src="unitedstates-2.JPG" alt="unitedstates-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="28">
        <img src="wildlife-10.jpg" alt="wildlife-10">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Sweden" data-index="29">
        <img src="sweden-3.JPG" alt="sweden-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Sweden</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="30">
        <img src="costarica-5.jpg" alt="costarica-5">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="31">
        <img src="wildlife-11.jpg" alt="wildlife-11">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Norway" data-index="32">
        <img src="norway-2.JPG" alt="norway-2">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Norway</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Portugal" data-index="33">
        <img src="portugal-3.JPG" alt="portugal-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Portugal</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="34">
        <img src="wildlife-12.jpg" alt="wildlife-12">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="35">
        <img src="unitedstates-3.jpg" alt="unitedstates-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Sweden" data-index="36">
        <img src="sweden-4.JPG" alt="sweden-4">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Sweden</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="37">
        <img src="wildlife-13.jpg" alt="wildlife-13">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Iceland" data-index="38">
        <img src="iceland-4.JPG" alt="iceland-4">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Iceland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="39">
        <img src="costarica-6.jpg" alt="costarica-6">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Denmark" data-index="40">
        <img src="denmark-3.JPG" alt="denmark-3">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Denmark</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="41">
        <img src="unitedstates-4.JPG" alt="unitedstates-4">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Sweden" data-index="42">
        <img src="sweden-5.JPG" alt="sweden-5">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Sweden</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Costa Rica" data-index="43">
        <img src="costarica-7.jpg" alt="costarica-7">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Costa Rica</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="44">
        <img src="unitedstates-5.JPG" alt="unitedstates-5">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="45">
        <img src="unitedstates-6.JPG" alt="unitedstates-6">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Ireland" data-index="46">
        <img src="ireland-3.jpg" alt="Ireland">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Ireland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Ireland" data-index="47">
        <img src="ireland-4.jpg" alt="Ireland">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Ireland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Ireland" data-index="48">
        <img src="ireland-5.jpg" alt="Ireland">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Ireland</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="United States" data-index="49">
        <img src="unitedstates-7.JPG" alt="United States">
        <div class="gallery-hover">
          <div class="gallery-hover-location">United States</div>
        </div>
      </div>
      <div class="gallery-item" data-type="wildlife" data-index="50">
        <img src="wildlife-14.jpg" alt="Wildlife">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Wildlife</div>
        </div>
      </div>
      <div class="gallery-item" data-type="landscape" data-country="Portugal" data-index="51">
        <img src="portugal-1.jpg" alt="Portugal">
        <div class="gallery-hover">
          <div class="gallery-hover-location">Portugal</div>
        </div>
      </div>

    </div>

  <!-- FOOTER -->
  <footer>
    <a href="index.html" class="footer-logo">Ryan Muratore Photography</a>
    <p>© 2025 Ryan Muratore — All rights reserved. Do not reproduce without permission.</p>
  </footer>

  <script>

    // Scroll reveal
    const reveals = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
    }, { threshold: 0.1 });
    reveals.forEach(el => observer.observe(el));

    // ── WORLD MAP FILTER ──
    const visited = {
      "United States": "840", "Canada": "124", "Iceland": "352",
      "Ireland": "372", "Norway": "578", "Sweden": "752",
      "Denmark": "208", "Costa Rica": "188", "Portugal": "620"
    };
    const visitedByCode = {};
    Object.entries(visited).forEach(([name, code]) => visitedByCode[code] = name);

    const tooltip = document.getElementById('map-tooltip');
    const galleryItems = document.querySelectorAll('.gallery-item[data-country]');

    

    function loadScript(src) {
      return new Promise((resolve, reject) => {
        const s = document.createElement('script');
        s.src = src; s.onload = resolve; s.onerror = reject;
        document.head.appendChild(s);
      });
    }

    Promise.all([
      loadScript('https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js'),
      loadScript('https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.2/topojson.min.js')
    ]).then(() => fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json'))
    .then(r => r.json()).then(world => {
      document.getElementById('map-loading').remove();
      const container = document.getElementById('world-map-container');
      const W = container.offsetWidth;
      const H = Math.round(W * 0.52);
      const svg = d3.select('#world-map-container').append('svg')
        .attr('viewBox', `0 0 ${W} ${H}`).attr('preserveAspectRatio', 'xMidYMid meet');
      svg.append('rect').attr('width', W).attr('height', H).attr('fill', 'var(--linen)');
      const projection = d3.geoNaturalEarth1().scale(W / 6.5).translate([W / 2, H / 2]);
      const path = d3.geoPath().projection(projection);
      const countries = topojson.feature(world, world.objects.countries);
      svg.selectAll('path').data(countries.features).enter().append('path')
        .attr('d', path)
        .attr('class', d => 'country-path' + (visitedByCode[d.id] ? ' visited' : ''))
        .attr('data-name', d => visitedByCode[d.id] || '')
        .on('click', function(event, d) {
          const name = visitedByCode[d.id];
          if (!name) return;
          const current = document.querySelector('.map-pill.active')?.dataset.filter;
          filterGallery(current === name ? 'all' : name);
        })
        .on('mousemove', function(event, d) {
          const name = visitedByCode[d.id];
          if (!name) return;
          tooltip.textContent = name;
          tooltip.style.opacity = '1';
          tooltip.style.left = (event.clientX + 14) + 'px';
          tooltip.style.top = (event.clientY - 32) + 'px';
        })
        .on('mouseleave', () => { tooltip.style.opacity = '0'; });
      svg.append('path')
        .datum(topojson.mesh(world, world.objects.countries, (a, b) => a !== b))
        .attr('d', path).attr('fill', 'none')
        .attr('stroke', 'var(--warm-white)').attr('stroke-width', '0.4');
    }).catch(() => {
      document.getElementById('map-loading').textContent = 'Use the buttons below to filter by location.';
    });

    // ── GALLERY MASONRY + FILTER ──
    let allGalleryItems = [];

    function getColCount() {
      return window.innerWidth <= 768 ? 2 : 3;
    }

    function distributeItems(items, highlightSet) {
      const grid = document.getElementById('gallery-grid');
      if (!grid) return;
      grid.innerHTML = '';
      const cols = getColCount();
      const columns = [];
      for (let i = 0; i < cols; i++) {
        const col = document.createElement('div');
        col.className = 'gallery-col';
        grid.appendChild(col);
        columns.push(col);
      }
      items.forEach((item, i) => {
        const isHighlighted = !highlightSet || highlightSet.has(item);
        item.style.opacity = isHighlighted ? '1' : '0.15';
        item.style.pointerEvents = isHighlighted ? 'auto' : 'none';
        columns[i % cols].appendChild(item);
      });
    }

    function filterGallery(filter) {
      let matching, nonMatching;
      if (filter === 'all') {
        const sorted = allGalleryItems.slice().sort((a, b) => parseInt(a.dataset.index) - parseInt(b.dataset.index));
        distributeItems(sorted, null);
      } else {
        matching = filter === 'wildlife'
          ? allGalleryItems.filter(i => i.dataset.type === 'wildlife')
          : allGalleryItems.filter(i => i.dataset.country === filter);
        nonMatching = allGalleryItems.filter(i => !matching.includes(i));
        distributeItems([...matching, ...nonMatching], new Set(matching));
      }
      document.querySelectorAll('.country-path').forEach(el => {
        el.classList.toggle('map-active', el.dataset.name === filter);
      });
      document.querySelectorAll('.map-pill').forEach(p => {
        p.classList.toggle('active', p.dataset.filter === filter);
      });
    }

    document.querySelectorAll('.map-pill').forEach(pill => {
      pill.addEventListener('click', () => filterGallery(pill.dataset.filter));
    });

    window.addEventListener('resize', () => {
      const active = document.querySelector('.map-pill.active');
      filterGallery(active ? active.dataset.filter : 'all');
    });

    function toggleMenu() {
      const links = document.getElementById('nav-links');
      const burger = document.getElementById('hamburger');
      const isOpen = links.classList.toggle('open');
      burger.classList.toggle('open', isOpen);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const grid = document.getElementById('gallery-grid');
      if (grid) {
        allGalleryItems = Array.from(grid.querySelectorAll('.gallery-item'));
        allGalleryItems.sort((a, b) => parseInt(a.dataset.index) - parseInt(b.dataset.index));
        allGalleryItems.forEach(item => item.remove());
        distributeItems(allGalleryItems, null);
      }
      document.querySelectorAll('#nav-links a').forEach(a => {
        a.addEventListener('click', () => {
          document.getElementById('nav-links').classList.remove('open');
          document.getElementById('hamburger').classList.remove('open');
        });
      });
    });
  </script>
</body>
</html>
